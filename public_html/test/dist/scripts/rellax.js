function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(e,o){"function"==typeof define&&define.amd?define([],o):"object"===("undefined"==typeof module?"undefined":_typeof(module))&&module.exports?module.exports=o():e.Rellax=o()}("undefined"!=typeof window?window:global,function(){return function e(o,t){var f=Object.create(e.prototype),r=0,w=0,i=0,y=0,h=[],x=!0,n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},l=null,s=window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout,a=window.transformProp||function(){var e=document.createElement("div");if(null===e.style.transform){var o,t=["Webkit","Moz","ms"];for(o in t)if(void 0!==e.style[t[o]+"Transform"])return t[o]+"Transform"}return"transform"}();f.options={speed:-2,center:!1,wrapper:null,relativeToWrapper:!1,round:!0,vertical:!0,horizontal:!1,callback:function(){}},t&&Object.keys(t).forEach(function(e){f.options[e]=t[e]}),o||(o=".rellax");var p="string"==typeof o?document.querySelectorAll(o):[o];if(0<p.length){if(f.elems=p,f.options.wrapper&&!f.options.wrapper.nodeType){if(!(p=document.querySelector(f.options.wrapper)))return void console.warn("Rellax: The wrapper you're trying to use doesn't exist.");f.options.wrapper=p}var d=function e(){for(var o=0;o<h.length;o++)f.elems[o].style.cssText=h[o].style;for(h=[],w=window.innerHeight,y=window.innerWidth,b(),o=0;o<f.elems.length;o++){var t=f.elems[o],n=t.getAttribute("data-rellax-percentage"),r=t.getAttribute("data-rellax-speed"),i=t.getAttribute("data-rellax-zindex")||0,l=t.getAttribute("data-rellax-min"),s=t.getAttribute("data-rellax-max"),a=f.options.wrapper?f.options.wrapper.scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop;f.options.relativeToWrapper&&(a=(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop)-f.options.wrapper.offsetTop);var p=f.options.vertical&&(n||f.options.center)?a:0,d=f.options.horizontal&&(n||f.options.center)?f.options.wrapper?f.options.wrapper.scrollLeft:window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft:0;a=p+t.getBoundingClientRect().top;var c=t.clientHeight||t.offsetHeight||t.scrollHeight,m=d+t.getBoundingClientRect().left,u=t.clientWidth||t.offsetWidth||t.scrollWidth;p=n||(p-a+w)/(c+w),n=n||(d-m+y)/(u+y),f.options.center&&(p=n=.5),r=r||f.options.speed,n=g(n,p,r),p="",0<=(t=t.style.cssText).indexOf("transform")&&(p=t.indexOf("transform"),p=(d=(p=t.slice(p)).indexOf(";"))?" "+p.slice(11,d).replace(/\s/g,""):" "+p.slice(11).replace(/\s/g,"")),h.push({baseX:n.x,baseY:n.y,top:a,left:m,height:c,width:u,speed:r,style:t,transform:p,zindex:i,min:l,max:s})}x&&(window.addEventListener("resize",e),x=!1),v()},b=function(){var e=r,o=i;return r=f.options.wrapper?f.options.wrapper.scrollTop:(document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset,i=f.options.wrapper?f.options.wrapper.scrollLeft:(document.documentElement||document.body.parentNode||document.body).scrollLeft||window.pageXOffset,f.options.relativeToWrapper&&(r=((document.documentElement||document.body.parentNode||document.body).scrollTop||window.pageYOffset)-f.options.wrapper.offsetTop),!!(e!=r&&f.options.vertical||o!=i&&f.options.horizontal)},g=function(e,o,t){var n={};return e=100*t*(1-e),o=100*t*(1-o),n.x=f.options.round?Math.round(e):Math.round(100*e)/100,n.y=f.options.round?Math.round(o):Math.round(100*o)/100,n},v=function(){for(var e,o=0;o<f.elems.length;o++){var t=(e=g((i-h[o].left+y)/(h[o].width+y),(r-h[o].top+w)/(h[o].height+w),h[o].speed)).y-h[o].baseY,n=e.x-h[o].baseX;null!==h[o].min&&(f.options.vertical&&!f.options.horizontal&&(t=t<=h[o].min?h[o].min:t),f.options.horizontal&&!f.options.vertical&&(n=n<=h[o].min?h[o].min:n)),null!==h[o].max&&(f.options.vertical&&!f.options.horizontal&&(t=t>=h[o].max?h[o].max:t),f.options.horizontal&&!f.options.vertical&&(n=n>=h[o].max?h[o].max:n)),f.elems[o].style[a]="translate3d("+(f.options.horizontal?n:"0")+"px,"+(f.options.vertical?t:"0")+"px,"+h[o].zindex+"px) "+h[o].transform}f.options.callback(e)};return f.destroy=function(){for(var e=0;e<f.elems.length;e++)f.elems[e].style.cssText=h[e].style;x||(window.removeEventListener("resize",d),x=!0),s(l),l=null},d(),function e(){b()&&!1===x&&v(),l=n(e)}(),f.refresh=d,f}console.warn("Rellax: The elements you're trying to select don't exist.")}});
//# sourceMappingURL=rellax.js.map
