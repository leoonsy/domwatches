jQuery(function(C){String.prototype.repeat||(String.prototype.repeat=function(i){"use strict";if(null==this)throw new TypeError("can't convert "+this+" to object");var e=""+this;if((i=+i)!=i&&(i=0),i<0)throw new RangeError("repeat count must be non-negative");if(i==1/0)throw new RangeError("repeat count must be less than infinity");if(i=Math.floor(i),0==e.length||0==i)return"";if(1<<28<=e.length*i)throw new RangeError("repeat count must not overflow maximum string size");for(var d="",t=0;t<i;t++)d+=e;return d}),String.prototype.padStart||(String.prototype.padStart=function(i,e){return i>>=0,e=String(void 0!==e?e:" "),this.length>i?String(this):((i-=this.length)>e.length&&(e+=e.repeat(i/e.length)),e.slice(0,i)+String(this))}),C.fn.flipper=function(i,e){var a=C(this),h=(i=i||"init",C.extend({reverse:a.data("reverse")||!1,datetime:a.data("datetime")||"now",template:a.data("template")||"HH:ii:ss",labels:a.data("labels")||"Hours|Minutes|Seconds",preload:!0},e));if("init"===i){if(a.hasClass("flipper-initialized"))return void console.warn("Flipper already initialized.");a.addClass("flipper-initialized");var p,d=h.template.split("|"),r=h.labels.split("|");d.forEach(function(i,e){0<e&&a.append('<div class="flipper-group flipper-delimiter">:</div>'),a.append('<div class="flipper-group flipper-'+i+'"></div>');var d=a.find(".flipper-group.flipper-"+i);if(void 0!==r[e]&&d.append("<label>"+r[e]+"</label>"),"d"===i||"H"===i||"i"===i||"s"===i){var t=h.reverse?"reverse":"";d.append('<div class="flipper-digit '+t+'"></div>')}if("dd"===i||"ddd"===i||"HH"===i||"ii"===i||"ss"===i){t=h.reverse?"reverse":"";d.append('<div class="flipper-digit '+t+'"></div>'),d.append('<div class="flipper-delimiter"></div>'),d.append('<div class="flipper-digit '+t+'"></div>'),"ddd"===i&&(d.append('<div class="flipper-delimiter"></div>'),d.append('<div class="flipper-digit '+t+'"></div>'))}if("d"===i)for(p=0;p<=31;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>");if("H"===i)for(p=0;p<=23;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>");if("i"===i||"s"===i)for(p=0;p<=59;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>");if("dd"===i||"ddd"===i)for(p=0;p<=9;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>"),d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>"),"ddd"===i&&d.find(".flipper-digit:eq(2)").append('<div class="digit-face">'+p+"</div>");if("HH"===i){for(p=0;p<=2;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>");for(p=0;p<=9;p++)d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>")}if("ii"===i||"ss"===i){for(p=0;p<=5;p++)d.find(".flipper-digit:eq(0)").append('<div class="digit-face">'+p+"</div>");for(p=0;p<=9;p++)d.find(".flipper-digit:eq(1)").append('<div class="digit-face">'+p+"</div>")}}),h.preload&&q(a,h.datetime,!1),setInterval(function(){q(a,h.datetime,!0)},1e3),m(a),C(window).on("resize",function(){m(a)})}var o=400;C("body");function m(i){var e,d,t=1e3,a=t,p=0,r=0;for(i.css("font-size",a+"px");p<20;){if(p++,e=i.innerWidth(),i.css("width","9999px"),d=0,i.find(".flipper-group").each(function(){var i=parseFloat(C(this).outerWidth());d+=i}),e-d<10&&0<e-d)return void i.css("width","");e<d?t=a<t?a:t:r=r<a?a:r,a=(t+r)/2,i.css("width",""),i.css("font-size",a+"px")}}function q(i,e,d){d=d||!1;if(i.is(":visible")){i.hasClass("flipper-invisible")&&(i.removeClass("flipper-invisible"),m(i),q(i,h.datetime,!1));var t,a,p,r=Date.now();if("now"===e)var f=(r=new Date).getSeconds(),n=r.getMinutes(),l=r.getHours(),s=r.getDate();else{var v=(Date.parse((t=e.split(" "),a=t[0].split("-"),p=t[1].split(":"),new Date(a[0],a[1]-1,a[2],p[0],p[1],p[2])))-r)/1e3;v-=60*(s=Math.floor(v/60/60/24))*60*24,v-=60*(l=Math.floor(v/60/60))*60,v-=60*(n=Math.floor(v/60));f=Math.floor(v)}var o=s.toString().padStart(3,"0"),c=l.toString().padStart(2,"0"),g=n.toString().padStart(2,"0"),u=f.toString().padStart(2,"0");d?(i.find(".flipper-d").find(".flipper-digit:eq(0)").attr("data-value",s),i.find(".flipper-H").find(".flipper-digit:eq(0)").attr("data-value",l),i.find(".flipper-i").find(".flipper-digit:eq(0)").attr("data-value",n),i.find(".flipper-s").find(".flipper-digit:eq(0)").attr("data-value",f),i.find(".flipper-dd").find(".flipper-digit:eq(0)").attr("data-value",o[1]),i.find(".flipper-dd").find(".flipper-digit:eq(1)").attr("data-value",o[2]),i.find(".flipper-HH").find(".flipper-digit:eq(0)").attr("data-value",c[0]),i.find(".flipper-HH").find(".flipper-digit:eq(1)").attr("data-value",c[1]),i.find(".flipper-ii").find(".flipper-digit:eq(0)").attr("data-value",g[0]),i.find(".flipper-ii").find(".flipper-digit:eq(1)").attr("data-value",g[1]),i.find(".flipper-ss").find(".flipper-digit:eq(0)").attr("data-value",u[0]),i.find(".flipper-ss").find(".flipper-digit:eq(1)").attr("data-value",u[1]),i.find(".flipper-ddd").find(".flipper-digit:eq(0)").attr("data-value",o[0]),i.find(".flipper-ddd").find(".flipper-digit:eq(1)").attr("data-value",o[1]),i.find(".flipper-ddd").find(".flipper-digit:eq(2)").attr("data-value",o[2])):(i.find(".flipper-group .flipper-digit").removeAttr("data-value"),i.find(".digit-face.active").removeClass("active"),i.find(".flipper-d .flipper-digit:eq(0) .digit-face:contains("+s+")").addClass("active"),i.find(".flipper-H .flipper-digit:eq(0) .digit-face:contains("+l+")").addClass("active"),i.find(".flipper-i .flipper-digit:eq(0) .digit-face:contains("+n+")").addClass("active"),i.find(".flipper-s .flipper-digit:eq(0) .digit-face:contains("+f+")").addClass("active"),i.find(".flipper-dd .flipper-digit:eq(0) .digit-face:contains("+o[1]+")").addClass("active"),i.find(".flipper-dd .flipper-digit:eq(1) .digit-face:contains("+o[2]+")").addClass("active"),i.find(".flipper-HH .flipper-digit:eq(0) .digit-face:contains("+c[0]+")").addClass("active"),i.find(".flipper-HH .flipper-digit:eq(1) .digit-face:contains("+c[1]+")").addClass("active"),i.find(".flipper-ii .flipper-digit:eq(0) .digit-face:contains("+g[0]+")").addClass("active"),i.find(".flipper-ii .flipper-digit:eq(1) .digit-face:contains("+g[1]+")").addClass("active"),i.find(".flipper-ss .flipper-digit:eq(0) .digit-face:contains("+u[0]+")").addClass("active"),i.find(".flipper-ss .flipper-digit:eq(1) .digit-face:contains("+u[1]+")").addClass("active"),i.find(".flipper-ddd .flipper-digit:eq(0) .digit-face:contains("+o[0]+")").addClass("active"),i.find(".flipper-ddd .flipper-digit:eq(1) .digit-face:contains("+o[1]+")").addClass("active"),i.find(".flipper-ddd .flipper-digit:eq(2) .digit-face:contains("+o[2]+")").addClass("active"),i.find(".flipper-digit").each(function(){var i=C(this),e=i.find(".digit-face.active").html();i.find(".digit-top").remove(),i.find(".digit-top2").remove(),i.find(".digit-bottom").remove(),i.find(".digit-next").remove(),i.prepend('<div class="digit-top">'+e+"</div>"),i.prepend('<div class="digit-top2">'+e+"</div>"),i.prepend('<div class="digit-bottom">'+e+"</div>"),i.prepend('<div class="digit-next"></div>')}))}else i.addClass("flipper-invisible")}setInterval(function(){C(".flipper").find(".flipper-digit[data-value]").each(function(){var i=C(this);i.find(".active").html()!==i.attr("data-value")&&(i.is(".r")||function i(e){if(e.closest(".flipper").is(".flipper-initialized"))if(e.hasClass("r"))setTimeout(function(){i(e)},o+1);else{e.addClass("r");var d=e.find(".digit-top"),t=e.find(".digit-top2"),a=e.find(".digit-bottom"),p=e.find(".digit-face.active"),r=e.find(".digit-face:first"),f=p.prev(".digit-face"),n=p.next(".digit-face"),l=e.find(".digit-face:last");if(e.hasClass("reverse"))var s=f.length?f:l;else s=n.length?n:r;parseInt(d.html());var v=s.html();e.find(".digit-next").html(v),e.find(".digit-face").removeClass("active"),s.addClass("active"),d.addClass("r"),t.addClass("r"),a.addClass("r"),v.toString()===e.attr("data-value")&&e.removeAttr("data-value"),setTimeout(function(){d.html(v).hide(),t.html(v),setTimeout(function(){a.html(v).removeClass("r"),d.removeClass("r").show(),t.html(v).removeClass("r"),e.removeClass("r")},o/2)},o/2)}}(i))})},o/4)}});